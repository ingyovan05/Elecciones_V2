{"ast":null,"code":"import { RouterOutlet } from '@angular/router';\nimport { AsyncPipe, NgIf } from '@angular/common';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./core/services/auth.service\";\nimport * as i2 from \"./core/services/inactivity.service\";\nimport * as i3 from \"./core/services/theme.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/toolbar\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/menu\";\nimport * as i9 from \"@angular/material/tooltip\";\nfunction AppComponent_ng_container_11_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_container_11_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.goToAdmin());\n    });\n    i0.ɵɵtext(1, \"Administrar cat\\u00E1logos\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_ng_container_11_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_container_11_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.goToAdmin());\n    });\n    i0.ɵɵtext(1, \" Administraci\\u00F3n de cat\\u00E1logos \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 10)(2, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_container_11_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goToPanel());\n    });\n    i0.ɵɵtext(3, \"Panel principal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AppComponent_ng_container_11_button_4_Template, 2, 0, \"button\", 12);\n    i0.ɵɵelementStart(5, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_container_11_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.logout());\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 14)(8, \"mat-icon\");\n    i0.ɵɵtext(9, \"menu\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"mat-menu\", null, 0)(12, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_container_11_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goToPanel());\n    });\n    i0.ɵɵtext(13, \"Panel principal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, AppComponent_ng_container_11_button_14_Template, 2, 0, \"button\", 16);\n    i0.ɵɵelementStart(15, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_container_11_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.logout());\n    });\n    i0.ɵɵtext(16, \"Cerrar sesi\\u00F3n\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const user_r5 = ctx.ngIf;\n    const appMenu_r6 = i0.ɵɵreference(11);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", user_r5.role === \"ADMIN\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Cerrar sesi\\u00F3n (\", user_r5.username, \")\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matMenuTriggerFor\", appMenu_r6);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", user_r5.role === \"ADMIN\");\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(auth, inactivity, themeService, router) {\n      this.auth = auth;\n      this.inactivity = inactivity;\n      this.themeService = themeService;\n      this.router = router;\n      this.title = 'Portal Elecciones';\n      this.theme$ = this.themeService.theme$;\n    }\n    ngOnInit() {\n      this.sub = this.auth.currentUser$.subscribe(user => {\n        if (user) {\n          this.inactivity.start();\n        } else {\n          this.inactivity.stop();\n        }\n      });\n    }\n    ngOnDestroy() {\n      this.inactivity.stop();\n      this.sub?.unsubscribe();\n    }\n    logout() {\n      this.auth.logout();\n    }\n    toggleTheme() {\n      this.themeService.toggleTheme();\n    }\n    goToAdmin() {\n      this.router.navigate(['/admin']);\n    }\n    goToPanel() {\n      this.router.navigate(['/panel']);\n    }\n    static {\n      this.ɵfac = function AppComponent_Factory(t) {\n        return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.InactivityService), i0.ɵɵdirectiveInject(i3.ThemeService), i0.ɵɵdirectiveInject(i4.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AppComponent,\n        selectors: [[\"app-root\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 16,\n        vars: 7,\n        consts: [[\"appMenu\", \"matMenu\"], [1, \"app-toolbar\"], [1, \"title-group\"], [1, \"app-title\"], [1, \"app-subtitle\"], [1, \"spacer\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"Cambiar tema\", \"aria-label\", \"Cambiar tema\", 3, \"click\"], [4, \"ngIf\"], [1, \"app-content\", \"bg-surface\", \"min-h-[calc(100vh-64px)]\", \"transition-colors\", \"duration-300\"], [1, \"mx-auto\", \"max-w-6xl\", \"px-4\", \"py-8\"], [1, \"desktop-actions\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-button\", \"\", 3, \"click\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", 3, \"click\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Abrir men\\u00FA\", 1, \"mobile-menu\", 3, \"matMenuTriggerFor\"], [\"mat-menu-item\", \"\", 3, \"click\"], [\"mat-menu-item\", \"\", 3, \"click\", 4, \"ngIf\"]],\n        template: function AppComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"mat-toolbar\", 1)(1, \"div\", 2)(2, \"span\", 3);\n            i0.ɵɵtext(3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"span\", 4);\n            i0.ɵɵtext(5, \"Colombia\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(6, \"span\", 5);\n            i0.ɵɵelementStart(7, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_7_listener() {\n              return ctx.toggleTheme();\n            });\n            i0.ɵɵelementStart(8, \"mat-icon\");\n            i0.ɵɵtext(9);\n            i0.ɵɵpipe(10, \"async\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(11, AppComponent_ng_container_11_Template, 17, 4, \"ng-container\", 7);\n            i0.ɵɵpipe(12, \"async\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"main\", 8)(14, \"div\", 9);\n            i0.ɵɵelement(15, \"router-outlet\");\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate(ctx.title);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 3, ctx.theme$) === \"dark\" ? \"light_mode\" : \"dark_mode\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(12, 5, ctx.auth.currentUser$));\n          }\n        },\n        dependencies: [RouterOutlet, MatToolbarModule, i5.MatToolbar, MatButtonModule, i6.MatButton, i6.MatIconButton, MatIconModule, i7.MatIcon, MatMenuModule, i8.MatMenu, i8.MatMenuItem, i8.MatMenuTrigger, MatTooltipModule, i9.MatTooltip, NgIf, AsyncPipe],\n        styles: [\"body[_ngcontent-%COMP%]{margin:0}.app-toolbar[_ngcontent-%COMP%]{background:var(--toolbar-bg);color:var(--toolbar-color);border-bottom:1px solid rgba(15,23,42,.25);position:fixed;top:0;left:0;right:0;z-index:1000;flex-wrap:wrap;gap:.5rem;width:100%;box-shadow:0 8px 24px #02061733;transition:background .2s ease,color .2s ease,border-color .2s ease}.app-toolbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .app-toolbar[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .app-toolbar[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .app-toolbar[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]{color:var(--toolbar-color)}.app-toolbar[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]{border-color:#fff6}.dark-theme[_nghost-%COMP%]   .app-toolbar[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .app-toolbar[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]{border-color:#f8fafc99}.app-title[_ngcontent-%COMP%]{font-size:clamp(1.2rem,4vw,1.8rem);font-weight:600;color:inherit}.title-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.2}.app-subtitle[_ngcontent-%COMP%]{font-size:.7rem;letter-spacing:.3rem;text-transform:uppercase;color:inherit}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.desktop-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.mobile-menu[_ngcontent-%COMP%]{display:none}.app-content[_ngcontent-%COMP%]{margin-top:72px}@media (max-width: 768px){.app-toolbar[_ngcontent-%COMP%]{padding:.65rem 1rem}.app-content[_ngcontent-%COMP%]{margin-top:86px}.desktop-actions[_ngcontent-%COMP%]{display:none}.mobile-menu[_ngcontent-%COMP%]{display:inline-flex}}.dark-theme[_nghost-%COMP%]   .app-toolbar[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .app-toolbar[_ngcontent-%COMP%]{border-bottom-color:#e2e8f026;box-shadow:0 10px 30px #0206178c}\"]\n      });\n    }\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}