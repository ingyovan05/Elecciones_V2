{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { ButtonModule } from 'primeng/button';\nimport { TableModule } from 'primeng/table';\nimport { TagModule } from 'primeng/tag';\nimport { RippleModule } from 'primeng/ripple';\nlet PartiesManagementComponent = class PartiesManagementComponent {\n  constructor(fb, api, messages) {\n    this.fb = fb;\n    this.api = api;\n    this.messages = messages;\n    this.form = this.fb.nonNullable.group({\n      name: ['', Validators.required],\n      code: ['']\n    });\n    this.displayedColumns = ['name', 'code', 'isActive', 'actions'];\n    this.data = [];\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.api.get('/api/parties').subscribe(list => this.data = list);\n  }\n  save() {\n    if (this.form.invalid) return;\n    this.api.post('/api/parties', this.form.getRawValue()).subscribe({\n      next: () => {\n        this.messages.add({\n          severity: 'success',\n          summary: 'Partido guardado'\n        });\n        this.form.reset();\n        this.load();\n      },\n      error: error => this.messages.add({\n        severity: 'error',\n        summary: 'Error',\n        detail: error.error?.message ?? 'No se pudo guardar'\n      })\n    });\n  }\n  deactivate(party) {\n    this.api.delete(`/api/parties/${party.id}`).subscribe(() => {\n      this.messages.add({\n        severity: 'info',\n        summary: 'Partido desactivado'\n      });\n      this.load();\n    });\n  }\n};\nPartiesManagementComponent = __decorate([Component({\n  selector: 'app-parties-management',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, InputTextModule, ButtonModule, TableModule, TagModule, RippleModule],\n  templateUrl: './parties-management.component.html',\n  styleUrls: ['./parties-management.component.scss']\n})], PartiesManagementComponent);\nexport { PartiesManagementComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}